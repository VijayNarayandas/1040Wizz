<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule K-1 (Form 1065) Editor</title>
    <style>
        body { font-family: Arial, sans-serif; font-size: 10px; }
        .form-section { margin-bottom: 20px; }
        .form-section h2 { color: #007cba; }
        input[type="text"], input[type="number"] { 
            width: calc(100% - 10px);
            padding: 5px;
            margin: 5px 0;
            font-size: 14px;
            box-sizing: border-box;
        }
        .large-input { font-size: 18px; padding: 10px; }
        .button { 
            background-color: #007cba;
            color: white;
            padding: 8px 12px;
            border: none;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover { background-color: #005f8b; }
        .error { color: red; font-size: 12px; }
    </style>
</head>
<body>
    <h1>Editable Schedule K-1 (Form 1065)</h1>

    <div class="form-section" id="partnership-info">
        <h2>Partnership Information (Part I)</h2>
        <label>EIN: <input type="text" id="ein" placeholder="XX-XXXXXXX" maxlength="10"></label>
        <label>Name: <input type="text" id="partnership-name" placeholder="Partnership Name"></label>
        <label>Address: <input type="text" id="partnership-address" placeholder="Address"></label>
        <label>IRS Center: <input type="text" id="irs-center" placeholder="IRS Center"></label>
        <label>PTP Checkbox: <input type="checkbox" id="ptp"></label>
    </div>

    <div class="form-section" id="partner-info">
        <h2>Partner Information (Part II)</h2>
        <label>Partner SSN/TIN: <input type="text" id="partner-ssn" placeholder="XXX-XX-XXXX" maxlength="11"></label>
        <label>Name: <input type="text" id="partner-name" placeholder="Partner Name"></label>
        <label>Address: <input type="text" id="partner-address" placeholder="Address"></label>
        <label>General/Limited Partner: <input type="checkbox" id="partner-status"></label>
    </div>

    <div class="form-section" id="financial-info">
        <h2>Financial Information</h2>
        <label>Partner Share Percentage: <input type="number" id="share-percentage" min="0" max="100" placeholder="0-100%" required></label>
        <label>Liabilities: <input type="text" id="liabilities" class="large-input" placeholder="0.00" ></label>
        <label>Capital Account Analysis: <input type="text" id="capital-account" class="large-input" placeholder="0.00"></label>
    </div>

    <div class="form-section" id="income-deductions">
        <h2>Income/Deduction Items (Lines 1-22)</h2>
        <label>Ordinary Business Income (Line 1): <input type="text" id="ordinary-business-income" class="large-input" placeholder="0.00"></label>
        <label>Rental Real Estate Income (Lines 2-3): <input type="text" id="rental-income" class="large-input" placeholder="0.00"></label>
        <label>Guaranteed Payments (Lines 4a-4c): <input type="text" id="guaranteed-payments" class="large-input" placeholder="0.00"></label>
        <label>Interest and Dividend Income (Lines 5-6): <input type="text" id="interest-dividend" class="large-input" placeholder="0.00"></label>
        <label>Capital Gains/Losses (Lines 8-10): <input type="text" id="capital-gains-losses" class="large-input" placeholder="0.00"></label>
        <label>Other Income and Deductions (Lines 11-13): <input type="text" id="other-income-deductions" class="large-input" placeholder="0.00"></label>
        <label>Self-Employment Earnings (Line 14): <input type="text" id="self-employment-earnings" class="large-input" placeholder="0.00"></label>
        <label>Credits and Foreign Transactions (Lines 15-16): <input type="text" id="credits-foreign" class="large-input" placeholder="0.00"></label>
        <label>AMT Items and Distributions (Lines 17-19): <input type="text" id="amt-items" class="large-input" placeholder="0.00"></label>
        <label>Other Information (Lines 20-22): <input type="text" id="other-information" class="large-input" placeholder="0.00"></label>
    </div>

    <button class="button" id="import">Import JSON</button>
    <button class="button" id="export">Export JSON</button>

    <script>
        // Auto-save to localStorage
        const formInputs = document.querySelectorAll('input');

        formInputs.forEach(input => {
            input.addEventListener('input', () => {
                localStorage.setItem(input.id, input.value);
            });
            input.value = localStorage.getItem(input.id) || '';
        });

        // Export functionality
        document.getElementById('export').addEventListener('click', () => {
            const data = {};
            formInputs.forEach(input => {
                data[input.id] = input.value;
            });
            const json = JSON.stringify(data, null, 2);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'schedule-k1-form-data.json';
            a.click();
            URL.revokeObjectURL(url);
        });

        // Import functionality
        document.getElementById('import').addEventListener('click', () => {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = e => { 
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = event => {
                    const data = JSON.parse(event.target.result);
                    for (const key in data) {
                        if (data.hasOwnProperty(key)) {
                            const inputField = document.getElementById(key);
                            if (inputField) {
                                inputField.value = data[key];
                                localStorage.setItem(key, data[key]);
                            }
                        }
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        });
    </script>
</body>
</html>